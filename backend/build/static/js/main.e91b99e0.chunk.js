(this["webpackJsonpmusic-tracker"]=this["webpackJsonpmusic-tracker"]||[]).push([[0],{196:function(e,n,t){},197:function(e,n,t){},340:function(e,n,t){},341:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),c=t(45),a=t.n(c),o=t(27),s=t(21),l=t(7),d=t(1);var b={background:"#262626",body:"#1DB954"},u=Object(s.a)(Object(s.a)({},b),{},{background:"#fff"}),h=Object(o.b)((function(e){return{isDarkModeEnabled:e.userSettings.isDarkModeEnabled}}),null)((function(e){var n=e.children,t=e.isDarkModeEnabled?b:u;return Object(d.jsx)(l.a,{theme:t,children:n})})),j=t(95),p={isDarkModeEnabled:!0,user:"",friends:[]},f="TOGGLE_DARK_MODE",g="SET_USER",x="FRIENDS",O=function(e){return{type:x,friends:e}};var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case f:return Object(s.a)(Object(s.a)({},e),{},{isDarkModeEnabled:n.isDarkModeEnabled});case g:return Object(s.a)(Object(s.a)({},e),{},{user:n.user});case x:return null===n.friends?e:Object(s.a)(Object(s.a)({},e),{},{friends:n.friends});default:return e}},v={songData:[{name:"Jan",uv:60,amt:2400},{name:"Feb",uv:42,amt:2400},{name:"Mar",uv:34,amt:2400},{name:"Apr",uv:75,amt:2400},{name:"May",uv:12,amt:2400},{name:"Jun",uv:86,amt:2400}]},w="SET_SONG";var y,k,S,D,C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case w:return Object(s.a)(Object(s.a)({},e),{},{songData:n.songData});default:return e}},I=Object(j.a)({userSettings:m,songGraph:C}),F=Object(j.b)(I),M=(t(196),t(14)),T=t(9),E=t(49),_=t.n(E),N=(t(197),t(26)),P=t.p+"static/media/Home_Hollow.4993575d.png",z=t.p+"static/media/Home_Filled.1b9fe2ed.png",A=t.p+"static/media/Insights_Hollow.b4b59795.png",H=t.p+"static/media/Insights_Filled.2ad40048.png",L=t.p+"static/media/Heart_Hollow.f5f4639a.png",J=t.p+"static/media/Heart_Filled.36928923.png",R=t.p+"static/media/Dot_Hollow.0b74cceb.png",B=t.p+"static/media/Dot_Filled.c0172f89.png",G=l.b.div(y||(y=Object(T.a)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n  background: ",";\n"])),(function(e){return e.theme.background})),K=l.b.div(k||(k=Object(T.a)(["\n  display: block;\n  color: white;\n  text-align: center;\n  padding: 10px 10px;\n  text-decoration: none;\n  float: right;\n  position: relative;\n  color: white;\n"]))),U=l.b.img(S||(S=Object(T.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n  max-width: 40px;\n  max-height: 40px;\n"]))),q=l.b.div(D||(D=Object(T.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #1db954;\n"])));var W,Y,Q,V,X,Z,$,ee=function(e){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)(G,{className:"navbar",children:[Object(d.jsx)(K,{children:Object(d.jsxs)(N.a,{href:"/profile",onMouseOver:function(e){return e.currentTarget.children.item(1).src=B},onMouseOut:function(e){e.currentTarget.children.item(1).src=R},children:[Object(d.jsx)(q,{children:Object(d.jsx)("h2",{children:"B"})}),Object(d.jsx)(U,{src:R})]})}),Object(d.jsx)(K,{children:Object(d.jsx)(N.a,{href:"/fav",children:Object(d.jsx)(U,{src:L,onMouseOver:function(e){return e.currentTarget.src=J},onMouseOut:function(e){return e.currentTarget.src=L}})})}),Object(d.jsx)(K,{children:Object(d.jsx)(N.a,{href:"/insights",children:Object(d.jsx)(U,{src:A,onMouseOver:function(e){return e.currentTarget.src=H},onMouseOut:function(e){return e.currentTarget.src=A}})})}),Object(d.jsx)(K,{children:Object(d.jsx)(N.a,{href:"/",children:Object(d.jsx)(U,{src:P,onMouseOver:function(e){return e.currentTarget.src=z},onMouseOut:function(e){return e.currentTarget.src=P}})})})]})})},ne=t(20),te=l.b.div(W||(W=Object(T.a)(["\n  display: table-cell;\n  vertical-align: middle;\n  font-size: 18px;\n  font-weight: bold;\n  width: 4%;\n  padding: 0px 6px 0px 0px;\n"]))),ie=l.b.img(Y||(Y=Object(T.a)(["\n  position: relative;\n  top: 0%;\n  transform: translateY(-20%);\n  &:hover {\n    cursor: pointer;\n  }\n"]))),re=l.b.div(Q||(Q=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bold;\n  width: 40%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  a {\n    cursor: pointer;\n    color: inherit;\n    text-decoration: inherit;\n    &: hover {\n      text-decoration: underline;\n    }\n  }\n"]))),ce=l.b.div(V||(V=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bold;\n  width: 35%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),ae=l.b.div(X||(X=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bold;\n  width: 6%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n"]))),oe=l.b.div(Z||(Z=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bold;\n  width: 6%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  text-align: right;\n"]))),se=l.b.div($||($=Object(T.a)(["\n  display: flex;\n  width: 100%;\n"])));var le,de,be,ue,he,je,pe=function(e){var n=function(e){var n=Math.floor(e/6e4),t=(e%6e4/1e3).toFixed(0);return n+":"+(t<10?"0":"")+t}(e.duration_ms),t=function(e){var n,t=[],i=Object(ne.a)(e.artists);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.push(r.name)}}catch(c){i.e(c)}finally{i.f()}return t.join(", ")}(e);return Object(d.jsxs)(se,{children:[Object(d.jsx)(te,{children:Object(d.jsx)(ie,{src:e.album.images[2].url,width:32,height:32,onClick:function(){window.open(e.external_urls.spotify)}})}),Object(d.jsx)(re,{title:e.name,children:Object(d.jsx)("a",{href:e.external_urls.spotify,target:"_blank",rel:"noreferrer",children:e.name})}),Object(d.jsx)(ce,{title:t,children:t}),Object(d.jsx)(ae,{title:n,children:n}),e.showPlays&&Object(d.jsx)(oe,{title:e.play,children:e.plays})]})},fe=l.b.div(le||(le=Object(T.a)(["\n  display: table-cell;\n  vertical-align: middle;\n  font-size: 18px;\n  font-weight: bolder;\n  width: 4%;\n  padding: 0;\n"]))),ge=l.b.div(de||(de=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bolder;\n  width: 40%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-left: 4px;\n"]))),xe=l.b.div(be||(be=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bolder;\n  width: 35%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-left: 3px;\n"]))),Oe=l.b.div(ue||(ue=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bolder;\n  width: 6%;\n  margin-left: -4px;\n"]))),me=l.b.div(he||(he=Object(T.a)(["\n  display: table-cell;\n  font-size: 18px;\n  font-weight: bolder;\n  width: 6%;\n  margin-left: 4px;\n  text-align: right;\n"]))),ve=l.b.div(je||(je=Object(T.a)(["\n  display: flex;\n  width: 100%;\n  color: grey;\n  margin: 4px 4px 12px 0px;\n  overflow: visible;\n  line-height: normal;\n  text-align: left;\n"])));var we,ye,ke=function(e){var n=e.showPlays;return Object(d.jsxs)(ve,{children:[Object(d.jsx)(fe,{}),Object(d.jsx)(ge,{children:"Song"}),Object(d.jsx)(xe,{children:"Artist"}),Object(d.jsx)(Oe,{children:"Time"}),n&&Object(d.jsx)(me,{children:"Plays"})]})},Se=l.b.div(we||(we=Object(T.a)(["\n  display: table;\n  table-layout: fixed;\n  font-size: 18px;\n  font-weight: bold;\n  text-align: left;\n  width: 100%;\n  min-width: 800px;\n"]))),De=l.b.div(ye||(ye=Object(T.a)(["\n  display: table;\n  table-layout: fixed;\n  font-size: 18px;\n  font-weight: bold;\n  width: 50%;\n"])));var Ce,Ie,Fe,Me=function(e){var n=e.songs,t=e.showPlays;return Object(d.jsx)(De,{children:Object(d.jsxs)(Se,{children:[Object(d.jsx)(ke,{showPlays:t}),n.map((function(e,n){return Object(d.jsx)(pe,Object(s.a)(Object(s.a)({},e),{},{showPlays:t}),n)}))]})})},Te=l.b.img(Ce||(Ce=Object(T.a)(["\n  position: relative;\n  padding: 16px 16px;\n"]))),Ee=l.b.div(Ie||(Ie=Object(T.a)(["\n  font-size: 72px;\n  font-weight: bold;\n  white-space: nowrap;\n  position: relative;\n  padding: 16px 16px;\n"]))),_e=l.b.div(Fe||(Fe=Object(T.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"])));var Ne=function(e){return Object(d.jsxs)(_e,{children:[Object(d.jsx)(Te,{src:R,width:128,height:128}),Object(d.jsx)(Ee,{children:e.title})]})},Pe=t(30),ze=t.n(Pe),Ae=t(71);function He(e){return Le.apply(this,arguments)}function Le(){return(Le=Object(Ae.a)(ze.a.mark((function e(n){return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("/friends?id=".concat(n)).then(function(){var e=Object(Ae.a)(ze.a.mark((function e(n){var t;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:F.dispatch(O(t));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){console.log("Something went wrong ",e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=Object(o.b)((function(e){return{user:e.userSettings.user}}),null)((function(e){var n=e.username,t=e.spotifyId,c=(e.user,Object(i.useState)([])),a=Object(M.a)(c,2),o=a[0],s=a[1],l=Object(i.useCallback)((function(){t&&function(e){return fetch("/songs?spotifyId=".concat(e)).then((function(e){return e.json()}),(function(e){throw console.log("something went wrong",e),e}))}(t).then((function(e){e.length&&s(e)}))}),[t]);return Object(i.useEffect)((function(){o.length||(console.log("fetching songs"),l())}),[l,o]),Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)(Ne,{title:"Hello ".concat(n,"!")}),Object(d.jsx)(Me,{songs:o,showPlays:!0})]})})}));var Re,Be=function(){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)(Ne,{title:"Page not found"})})})},Ge=l.b.button(Re||(Re=Object(T.a)(["\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    background: #1DB954;\n    border-radius: 30px;\n    padding: 1em;\n    color: white;\n    min-width: 100px;\n    transition: background 200ms;\n    &:hover {\n        background: #1ED760;\n    }\n"])));var Ke=function(e){var n=e.username,t=e.spotifyId,c=Object(i.useState)([]),a=Object(M.a)(c,2),o=a[0],s=a[1],l=Object(i.useState)(""),b=Object(M.a)(l,2),u=b[0],h=b[1],j=Object(i.useCallback)((function(){t&&function(e){return fetch("/recommendations?spotifyId=".concat(e)).then((function(e){return e.json()}),(function(e){throw console.log("something went wrong",e),e}))}(t).then((function(e){e.length&&s(e)}))}),[t]);Object(i.useEffect)((function(){o.length||(console.log("fetching recommended songs"),j())}),[j,o]);var p=function(e){var n=window.open(e,"_blank","noopener,noreferrer");n&&(n.opener=null)};return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)("h2",{children:"Recommendations for ".concat(n,"!")}),Object(d.jsx)(Me,{songs:o,showPlays:!1}),Object(d.jsx)(Ge,{onClick:function(){t&&0!==o.length&&(""!==u?p(u):function(e,n,t,i){var r={spotifyId:e,songIds:n,playlistTitle:t,playlistDescription:i};return fetch("/createplaylist?spotifyId=".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()}),(function(e){throw console.log("something went wrong",e),e}))}(t,o.map((function(e){return"spotify:track:".concat(e.id)})),"".concat(n,"'s recent vibe recommendations"),"Recommended songs for ".concat(n," based on most recently played songs and artists")).then((function(e){p(e.body.external_urls.spotify),h(e.body.external_urls.spotify)})))},children:""===u?"Create Playlist":"Open Playlist"})]})})},Ue=t(343),qe=t(182),We=t(347),Ye=t(176),Qe=t(177),Ve=[{name:"Jan",uv:34,amt:2400},{name:"Feb",uv:67,amt:2400},{name:"Mar",uv:54,amt:2400},{name:"Apr",uv:36,amt:2400},{name:"May",uv:78,amt:2400},{name:"Jun",uv:43,amt:2400}];var Xe=Object(o.b)((function(e){return{songData:e.songGraph.songData}}),(function(e){return{setSong:function(n){return e(function(e){return{type:w,songData:e}}(n))}}}))((function(e){return console.log(e.songData),Object(d.jsxs)(Ue.a,{width:1300,height:600,data:e.songData,onClick:function(){return e.setSong(Ve)},children:[Object(d.jsx)(qe.a,{type:"monotone",dataKey:"uv",stroke:"#1DB954"}),Object(d.jsx)(We.a,{stroke:"#ccc"}),Object(d.jsx)(Ye.a,{dataKey:"name",tick:{fontSize:16}}),Object(d.jsx)(Qe.a,{tick:{fontSize:16}})]})}));var Ze,$e,en,nn,tn=function(e){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)("h1",{children:"The insights page"}),Object(d.jsx)(Xe,{}),Object(d.jsx)(Ke,Object(s.a)({},e))]})})},rn=t(183),cn=l.b.input.attrs({type:"checkbox"})(Ze||(Ze=Object(T.a)(["\n// Hide checkbox visually but remain accessible to screen readers.\n// Source: https://polished.js.org/docs/#hidevisually\nborder: 0;\nclip: rect(0 0 0 0);\nclippath: inset(50%);\nheight: 1px;\nmargin: -1px;\noverflow: hidden;\npadding: 0;\nposition: absolute;\nwhite-space: nowrap;\nwidth: 1px;\n"]))),an=l.b.div($e||($e=Object(T.a)(["\ndisplay: inline-block;\nwidth: 44px;\nheight: 28px;\nbackground: ",";\nborder-radius: 1000px;\ntransition: all 150ms;\nmargin-right: 0.5em;\n"])),(function(e){return e.checked?e.theme.body:"#ccc"})),on=l.b.div(en||(en=Object(T.a)(["\ndisplay: inline-block;\nvertical-align: middle;\nposition: relative;\n"]))),sn=l.b.div(nn||(nn=Object(T.a)(["\nposition: absolute;\ntop: 4px;\n","\ntransition: all 150ms;\nwidth: 20px;\nheight: 20px;\nborder-radius: 40px;\nbackground: white;\n"])),(function(e){return e.checked?"left: 4px;":"left: 20px;"})),ln=function(e){var n=e.className,t=e.checked,i=Object(rn.a)(e,["className","checked"]);return Object(d.jsxs)(on,{className:n,children:[Object(d.jsx)(cn,Object(s.a)({checked:t},i)),Object(d.jsx)(an,{checked:t}),Object(d.jsx)(sn,{checked:t})]})};var dn=Object(o.b)((function(e){return{isDarkModeEnabled:e.userSettings.isDarkModeEnabled}}),(function(e){return{toggleDarkMode:function(n){return e({type:f,isDarkModeEnabled:n})}}}))((function(e){var n=e.logout,t=e.isDarkModeEnabled,i=e.toggleDarkMode;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Account Settings"}),Object(d.jsxs)("label",{children:[Object(d.jsx)(ln,{checked:t,onChange:function(){return i(!t)}}),Object(d.jsx)("span",{children:"Dark mode"})]}),Object(d.jsx)(Ge,{onClick:n,children:"Logout"})]})}));var bn=function(e){var n=e.logout;return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsxs)("header",{className:"App-header",children:[Object(d.jsx)("h1",{children:"The user profile page"}),Object(d.jsx)(dn,{logout:n})]})})};var un,hn=function(e){return Object(d.jsx)(r.a.Fragment,{children:Object(d.jsx)("header",{className:"App-header",children:Object(d.jsx)("h1",{children:"The favorites page"})})})},jn=l.b.div(un||(un=Object(T.a)(["\n  box-shadow: 2px 2px 10px #000000ee;\n  width: ",";\n  height: ",";\n  // margin: 2em 2em 0 0;\n  background-color: #fff;\n  border-radius: 14px;\n  padding: ",";\n  text-align: left;\n  & > button {\n    padding-right: 1rem;\n  }\n"])),(function(e){return e.width||"200px"}),(function(e){return e.height||"300px"}),(function(e){return e.padding||"1em"}));var pn,fn,gn,xn,On,mn,vn,wn,yn,kn,Sn=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("header",{className:"App-header",children:Object(d.jsxs)(jn,{children:[Object(d.jsx)("h4",{children:"Login"}),Object(d.jsx)(Ge,{onClick:function(){fetch("/login").then((function(e){return e.json()}),(function(e){throw console.log("Something went wrong ",e),e})).then((function(e){window.location.replace(e.authorizeURL)}))},children:"Login"})]})})})},Dn=t(58),Cn=t(59),In=t(93),Fn=t(60),Mn=t(61),Tn=t(180),En=t.n(Tn),_n=(t(340),t.p+"static/media/Friends_Filled_WHITE.e6e666ee.png"),Nn=l.b.button(pn||(pn=Object(T.a)(["\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    background: #1DB954;\n    padding: 1em;\n    color: white;\n    min-width: 100px;\n    padding-right: 100px;\n    transition: background 200ms;\n    &:hover {\n        background: #1ED760;\n    }\n"]))),Pn=l.b.div(fn||(fn=Object(T.a)(["\n    display: flex;\n    align-items: center;\n"]))),zn=l.b.img(gn||(gn=Object(T.a)(["\n  float: left;\n  object-fit: cover;\n"]))),An=l.b.div(xn||(xn=Object(T.a)([";\n  float: right;\n  text-align: left;\n  margin-left: 1em;\n"]))),Hn=l.b.p(On||(On=Object(T.a)([";\n  font-weight: bold;\n  margin: 0.5em 0;\n"]))),Ln=l.b.p(mn||(mn=Object(T.a)([";\n  font-weight: normal;\n  margin: 0.5em 0;\n"]))),Jn=function(e){Object(Fn.a)(t,e);var n=Object(Mn.a)(t);function t(e){var i;return Object(Dn.a)(this,t),(i=n.call(this,e)).state=e.state,i}return Object(Cn.a)(t,[{key:"render",value:function(){return Object(d.jsx)(Nn,{type:"button",onClick:this.props.onClick,children:Object(d.jsxs)(Pn,{children:[Object(d.jsx)(zn,{src:this.props.imgSrc,width:50,height:50}),Object(d.jsxs)(An,{children:[Object(d.jsx)(Hn,{children:this.props.name}),Object(d.jsx)(Ln,{children:this.props.song})]})]})})}}]),t}(r.a.Component),Rn=l.b.div(vn||(vn=Object(T.a)(["\n  position: absolute;\n  bottom: 1em;\n  margin-top: 1em;\n  padding: 1em;\n"]))),Bn=l.b.input(wn||(wn=Object(T.a)(["\n  margin-right: 1em;\n"]))),Gn=function(e){Object(Fn.a)(t,e);var n=Object(Mn.a)(t);function t(e){var i;return Object(Dn.a)(this,t),(i=n.call(this,e)).handleChange=function(e){i.setState({input:e.target.value})},i.handleClick=Object(Ae.a)(ze.a.mark((function e(){var n;return ze.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.props.spotifyId){e.next=2;break}return e.abrupt("return");case 2:return n={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({friendId:i.state.input})},console.log("this is my spotifyid "+i.props.spotifyId),e.next=6,fetch("/friend/".concat(i.props.spotifyId),n);case 6:200===e.sent.status?(i.setState({input:"",placeholder:"Added!"}),He(i.props.spotifyId)):i.setState({input:"",placeholder:"No user found! :("});case 8:case"end":return e.stop()}}),e)}))),i.onFormSubmit=function(e){e.preventDefault(),i.handleClick()},i.state={input:"",placeholder:"Add friend by Spotify ID"},i}return Object(Cn.a)(t,[{key:"render",value:function(){return Object(d.jsx)(Rn,{children:Object(d.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(d.jsx)(Bn,{type:"text",id:"header-search",placeholder:this.state.placeholder,onChange:this.handleChange,value:this.state.input}),Object(d.jsx)("button",{type:"submit",children:"Add friend"})]})})}}]),t}(r.a.Component),Kn=l.b.div(yn||(yn=Object(T.a)(["\n  position: -webkit-sticky;\n  position: sticky;\n  top: 0;\n  background-color: #1db954;\n  border: 2px solid #1db954;\n  padding: 4px 4px;\n  width: 50px;\n  border-radius: 0px 25px 25px 0px;\n"]))),Un=l.b.img(kn||(kn=Object(T.a)(["\n  display: block;\n  width: 100%;\n  height: auto;\n  max-width: 40px;\n  max-height: 40px;\n"]))),qn=function(e){Object(Fn.a)(t,e);var n=Object(Mn.a)(t);function t(e){var i;return Object(Dn.a)(this,t),(i=n.call(this,e)).state={show:!1},i.handleClick=i.handleClick.bind(Object(In.a)(i)),i}return Object(Cn.a)(t,[{key:"handleClick",value:function(){this.setState((function(e){return{show:!e.show}})),this.state.show&&He(this.props.spotifyId)}},{key:"render",value:function(){var e=this;return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsx)(Kn,{onClick:this.handleClick,children:Object(d.jsx)(Un,{src:_n})}),Object(d.jsxs)(En.a,{className:"Pane",overlayClassName:"Pane",isOpen:this.state.show,onRequestClose:function(){e.setState({show:!1})},from:"left",width:"400px",title:"Top tracks",children:[this.props.friends.map((function(e){return Object(d.jsx)(Jn,{imgSrc:e.imgSrc,name:e.name,song:e.topTrack})})),Object(d.jsx)(Gn,{spotifyId:this.props.spotifyId})]})]})}}]),t}(r.a.Component);var Wn,Yn=Object(o.b)((function(e){return{friends:e.userSettings.friends}}),null)(qn),Qn=l.b.div(Wn||(Wn=Object(T.a)(["\n  background: ",";\n  text-align: center;\n  min-height: 100vh;\n  color: ",";\n"])),(function(e){return e.theme.background}),(function(e){return e.theme.body}));var Vn=function(){var e,n,t=Object(i.useState)(null!==(e=_.a.get("username"))&&void 0!==e?e:""),r=Object(M.a)(t,2),c=r[0],a=r[1],o=Object(i.useState)(null!==(n=_.a.get("spotifyId"))&&void 0!==n?n:""),s=Object(M.a)(o,2),l=s[0],b=s[1];Object(i.useEffect)((function(){var e,n=new URLSearchParams(window.location.href.split("?")[1]),t=null!==(e=n.get("username"))&&void 0!==e?e:"",i=n.get("spotifyId");i&&(_.a.set("spotifyId",i),b(i));""!==t&&(_.a.set("username",t),a(t))}),[]);var u=function(){console.log("Logging out"),_.a.remove("spotifyId"),_.a.remove("username"),a(""),b("")};return console.log("user",c,"spotifyId",l),He(l),Object(d.jsx)(Qn,{children:c&&l?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ee,{}),Object(d.jsx)(Yn,{spotifyId:l}),Object(d.jsxs)(N.c,{children:[Object(d.jsx)(N.b,{path:"/profile",children:function(e){return Object(d.jsx)(bn,{logout:u})}}),Object(d.jsx)(N.b,{path:"/fav",children:function(e){return hn()}}),Object(d.jsx)(N.b,{path:"/insights",children:function(e){return Object(d.jsx)(tn,{username:c,spotifyId:l})}}),Object(d.jsx)(N.b,{path:"/",children:function(e){return Object(d.jsx)(Je,{username:c,spotifyId:l})}}),Object(d.jsx)(N.b,{children:function(e){return Be()}})]})]}):Object(d.jsx)(N.c,{children:Object(d.jsx)(N.b,{children:Object(d.jsx)(Sn,{})})})})},Xn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,349)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,c=n.getLCP,a=n.getTTFB;t(e),i(e),r(e),c(e),a(e)}))};a.a.render(Object(d.jsx)(o.a,{store:F,children:Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(h,{children:Object(d.jsx)(Vn,{})})})}),document.getElementById("root")),Xn()}},[[341,1,2]]]);
//# sourceMappingURL=main.e91b99e0.chunk.js.map